---
title: Relatório de erros do cmdlet | Microsoft Docs
ms.custom: ''
ms.date: 09/13/2016
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- error records [PowerShell], terminating
- non-terminating errors [PowerShell]
- error records [PowerShell]
- terminating errors [PowerShell]
- error records [PowerShell], non-terminating
ms.assetid: 0b014035-52ea-44cb-ab38-bbe463c5465a
caps.latest.revision: 8
ms.openlocfilehash: 5dfec318438ca139518c596011ac5e56445738ea
ms.sourcegitcommit: debd2b38fb8070a7357bf1a4bf9cc736f3702f31
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/05/2019
ms.locfileid: "72365915"
---
# <a name="cmdlet-error-reporting"></a><span data-ttu-id="08aec-102">Relatório de erros do cmdlet</span><span class="sxs-lookup"><span data-stu-id="08aec-102">Cmdlet error reporting</span></span>

<span data-ttu-id="08aec-103">Os cmdlets devem relatar erros de forma diferente, dependendo se os erros estão terminando erros ou erros de não encerramento.</span><span class="sxs-lookup"><span data-stu-id="08aec-103">Cmdlets should report errors differently depending on whether the errors are terminating errors or nonterminating errors.</span></span> <span data-ttu-id="08aec-104">Erros de encerramento são erros que fazem com que o pipeline seja encerrado imediatamente ou erros que ocorrem quando não há motivo para continuar o processamento.</span><span class="sxs-lookup"><span data-stu-id="08aec-104">Terminating errors are errors that cause the pipeline to be terminated immediately, or errors that occur when there's no reason to continue processing.</span></span> <span data-ttu-id="08aec-105">Os erros de não encerramento são aqueles que relatam uma condição de erro atual, mas o cmdlet pode continuar processando objetos de entrada.</span><span class="sxs-lookup"><span data-stu-id="08aec-105">Nonterminating errors are those errors that report a current error condition, but the cmdlet can continue to process input objects.</span></span> <span data-ttu-id="08aec-106">Com erros de não encerramento, o usuário geralmente é notificado do problema, mas o cmdlet continua processando o próximo objeto de entrada.</span><span class="sxs-lookup"><span data-stu-id="08aec-106">With nonterminating errors, the user is typically notified of the problem, but the cmdlet continues to process the next input object.</span></span>

## <a name="terminating-and-nonterminating-errors"></a><span data-ttu-id="08aec-107">Erros de encerramento e não encerramento</span><span class="sxs-lookup"><span data-stu-id="08aec-107">Terminating and nonterminating errors</span></span>

<span data-ttu-id="08aec-108">As diretrizes a seguir podem ser usadas para determinar se uma condição de erro é um erro de encerramento ou de não encerramento.</span><span class="sxs-lookup"><span data-stu-id="08aec-108">The following guidelines can be used to determine if an error condition is a terminating error or a nonterminating error.</span></span>

- <span data-ttu-id="08aec-109">A condição de erro impede que o cmdlet processe com êxito outros objetos de entrada?</span><span class="sxs-lookup"><span data-stu-id="08aec-109">Does the error condition prevent your cmdlet from successfully processing any further input objects?</span></span> <span data-ttu-id="08aec-110">Nesse caso, esse é um erro de encerramento.</span><span class="sxs-lookup"><span data-stu-id="08aec-110">If so, this is a terminating error.</span></span>

- <span data-ttu-id="08aec-111">A condição de erro está relacionada a um objeto de entrada específico ou a um subconjunto de objetos de entrada?</span><span class="sxs-lookup"><span data-stu-id="08aec-111">Is the error condition related to a specific input object or a subset of input objects?</span></span> <span data-ttu-id="08aec-112">Nesse caso, esse é um erro de não encerramento.</span><span class="sxs-lookup"><span data-stu-id="08aec-112">If so, this is a nonterminating error.</span></span>

- <span data-ttu-id="08aec-113">O cmdlet aceita vários objetos de entrada, de modo que o processamento pode ter sucesso em outro objeto de entrada?</span><span class="sxs-lookup"><span data-stu-id="08aec-113">Does the cmdlet accept multiple input objects, such that processing may succeed on another input object?</span></span> <span data-ttu-id="08aec-114">Nesse caso, esse é um erro de não encerramento.</span><span class="sxs-lookup"><span data-stu-id="08aec-114">If so, this is a nonterminating error.</span></span>

- <span data-ttu-id="08aec-115">Os cmdlets que podem aceitar vários objetos de entrada devem decidir entre o que são erros de encerramento e de não finalização, mesmo quando uma determinada situação se aplica a apenas um único objeto de entrada.</span><span class="sxs-lookup"><span data-stu-id="08aec-115">Cmdlets that can accept multiple input objects should decide between what are terminating and nonterminating errors, even when a particular situation applies to only a single input object.</span></span>

- <span data-ttu-id="08aec-116">Os cmdlets podem receber qualquer número de objetos de entrada e enviar qualquer número de objetos de êxito ou erro antes de lançar uma exceção de encerramento.</span><span class="sxs-lookup"><span data-stu-id="08aec-116">Cmdlets can receive any number of input objects and send any number of success or error objects before throwing a terminating exception.</span></span> <span data-ttu-id="08aec-117">Não há nenhuma relação entre o número de objetos de entrada recebidos e o número de objetos de êxito e de erro enviados.</span><span class="sxs-lookup"><span data-stu-id="08aec-117">There's no relationship between the number of input objects received and the number of success and error objects sent.</span></span>

- <span data-ttu-id="08aec-118">Os cmdlets que podem aceitar apenas 0-1 objetos de entrada e gerar apenas 0-1 objetos de saída devem tratar erros como erros de encerramento e gerar exceções de encerramento.</span><span class="sxs-lookup"><span data-stu-id="08aec-118">Cmdlets that can accept only 0-1 input objects and generate only 0-1 output objects should treat errors as terminating errors and generate terminating exceptions.</span></span>

## <a name="reporting-nonterminating-errors"></a><span data-ttu-id="08aec-119">Relatando erros de não encerramento</span><span class="sxs-lookup"><span data-stu-id="08aec-119">Reporting nonterminating errors</span></span>

<span data-ttu-id="08aec-120">O relatório de um erro não finalizado sempre deve ser feito dentro da implementação do cmdlet do método [System. Management. Automation. cmdlet. BeginProcessing](/dotnet/api/System.Management.Automation.Cmdlet.BeginProcessing) , do método [System. Management. Automation. cmdlet. ProcessRecord](/dotnet/api/System.Management.Automation.Cmdlet.ProcessRecord) ou do método [System. Management. Automation. cmdlet. endprocessor](/dotnet/api/System.Management.Automation.Cmdlet.EndProcessing) .</span><span class="sxs-lookup"><span data-stu-id="08aec-120">The reporting of a nonterminating error should always be done within the cmdlet's implementation of the [System.Management.Automation.Cmdlet.BeginProcessing](/dotnet/api/System.Management.Automation.Cmdlet.BeginProcessing) method, the [System.Management.Automation.Cmdlet.ProcessRecord](/dotnet/api/System.Management.Automation.Cmdlet.ProcessRecord) method, or the [System.Management.Automation.Cmdlet.EndProcessing](/dotnet/api/System.Management.Automation.Cmdlet.EndProcessing) method.</span></span> <span data-ttu-id="08aec-121">Esses tipos de erros são relatados chamando o método [System. Management. Automation. cmdlet. WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) que, por sua vez, envia um registro de erro para o fluxo de erro.</span><span class="sxs-lookup"><span data-stu-id="08aec-121">These types of errors are reported by calling the [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) method that in turn sends an error record to the error stream.</span></span>

## <a name="reporting-terminating-errors"></a><span data-ttu-id="08aec-122">Erros de encerramento de relatórios</span><span class="sxs-lookup"><span data-stu-id="08aec-122">Reporting terminating errors</span></span>

<span data-ttu-id="08aec-123">Os erros de encerramento são relatados pelo lançamento de exceções ou pela chamada do método [System. Management. Automation. cmdlet. ThrowTerminatingError](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) .</span><span class="sxs-lookup"><span data-stu-id="08aec-123">Terminating errors are reported by throwing exceptions or by calling the [System.Management.Automation.Cmdlet.ThrowTerminatingError](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) method.</span></span> <span data-ttu-id="08aec-124">Lembre-se de que os cmdlets também podem detectar e relançar exceções, como a **OutOfMemory**, no entanto, elas não são necessárias para relançar exceções, já que o tempo de execução do PowerShell as detectará também.</span><span class="sxs-lookup"><span data-stu-id="08aec-124">Be aware that cmdlets can also catch and rethrow exceptions such as **OutOfMemory**, however, they aren't required to rethrow exceptions as the PowerShell runtime will catch them as well.</span></span>

<span data-ttu-id="08aec-125">Você também pode definir suas próprias exceções para problemas específicos de sua situação ou adicionar informações adicionais a uma exceção existente usando seu registro de erro.</span><span class="sxs-lookup"><span data-stu-id="08aec-125">You can also define your own exceptions for issues specific to your situation, or add additional information to an existing exception using its error record.</span></span>

## <a name="error-records"></a><span data-ttu-id="08aec-126">Registros de erro</span><span class="sxs-lookup"><span data-stu-id="08aec-126">Error records</span></span>

<span data-ttu-id="08aec-127">O PowerShell descreve uma condição de erro de não finalização com objetos [System. Management. Automation. ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) .</span><span class="sxs-lookup"><span data-stu-id="08aec-127">PowerShell describes a nonterminating error condition with [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) objects.</span></span> <span data-ttu-id="08aec-128">Cada objeto fornece informações de categoria de erro, um objeto de destino opcional e detalhes sobre a condição de erro.</span><span class="sxs-lookup"><span data-stu-id="08aec-128">Each object provides error category information, an optional target object, and details about the error condition.</span></span>

### <a name="error-identifiers"></a><span data-ttu-id="08aec-129">Identificadores de erro</span><span class="sxs-lookup"><span data-stu-id="08aec-129">Error identifiers</span></span>

<span data-ttu-id="08aec-130">O identificador de erro é uma cadeia de caracteres simples que identifica a condição de erro dentro do cmdlet.</span><span class="sxs-lookup"><span data-stu-id="08aec-130">The error identifier is a simple string that identifies the error condition within the cmdlet.</span></span>
<span data-ttu-id="08aec-131">O PowerShell combina esse identificador com um identificador de cmdlet para criar um identificador de erro totalmente qualificado que pode ser usado posteriormente ao filtrar fluxos de erro ou erros de log, ao responder a erros específicos ou a outras atividades específicas do usuário.</span><span class="sxs-lookup"><span data-stu-id="08aec-131">PowerShell combines this identifier with a cmdlet identifier to create a fully qualified error identifier that can be used later when filtering error streams or logging errors, when responding to specific errors, or with other user-specific activities.</span></span>

<span data-ttu-id="08aec-132">As diretrizes a seguir devem ser seguidas ao especificar identificadores de erro:</span><span class="sxs-lookup"><span data-stu-id="08aec-132">The following guidelines should be followed when specifying error identifiers:</span></span>

- <span data-ttu-id="08aec-133">Atribua identificadores de erro diferentes, altamente específicos, a caminhos de código diferentes.</span><span class="sxs-lookup"><span data-stu-id="08aec-133">Assign different, highly specific, error identifiers to different code paths.</span></span> <span data-ttu-id="08aec-134">Cada caminho de código que chama [System. Management. Automation. cmdlet. WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) ou [System. Management. Automation. cmdlet. ThrowTerminatingError](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) deve ter seu próprio identificador de erro.</span><span class="sxs-lookup"><span data-stu-id="08aec-134">Each code path that calls [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) or [System.Management.Automation.Cmdlet.ThrowTerminatingError](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) should have its own error identifier.</span></span>

- <span data-ttu-id="08aec-135">Os identificadores de erro devem ser exclusivos para os tipos de exceção CLR (Common Language Runtime) para erros de encerramento e não encerramento.</span><span class="sxs-lookup"><span data-stu-id="08aec-135">Error identifiers should be unique to Common Language Runtime (CLR) exception types for both terminating and nonterminating errors.</span></span>

- <span data-ttu-id="08aec-136">Não altere a semântica de um identificador de erro entre versões do seu cmdlet ou provedor do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="08aec-136">Don't change the semantics of an error identifier between versions of your cmdlet or PowerShell provider.</span></span> <span data-ttu-id="08aec-137">Depois que a semântica de um identificador de erro é estabelecida, ela deve permanecer constante durante todo o ciclo de vida do seu cmdlet.</span><span class="sxs-lookup"><span data-stu-id="08aec-137">After the semantics of an error identifier is established, it should remain constant throughout the lifecycle of your cmdlet.</span></span>

- <span data-ttu-id="08aec-138">Para erros de encerramento, use um identificador de erro exclusivo para um determinado tipo de exceção CLR.</span><span class="sxs-lookup"><span data-stu-id="08aec-138">For terminating errors, use a unique error identifier for a particular CLR exception type.</span></span> <span data-ttu-id="08aec-139">Se o tipo de exceção for alterado, use um novo identificador de erro.</span><span class="sxs-lookup"><span data-stu-id="08aec-139">If the exception type changes, use a new error identifier.</span></span>

- <span data-ttu-id="08aec-140">Para erros de não encerramento, use um identificador de erro específico para um objeto de entrada específico.</span><span class="sxs-lookup"><span data-stu-id="08aec-140">For nonterminating errors, use a specific error identifier for a specific input object.</span></span>

- <span data-ttu-id="08aec-141">Escolha o texto para o identificador que tersely corresponde ao erro que está sendo relatado.</span><span class="sxs-lookup"><span data-stu-id="08aec-141">Choose text for the identifier that tersely corresponds to the error being reported.</span></span> <span data-ttu-id="08aec-142">Não use espaço em branco ou pontuação.</span><span class="sxs-lookup"><span data-stu-id="08aec-142">Don't use white space or punctuation.</span></span>

- <span data-ttu-id="08aec-143">Não gere identificadores de erro que não sejam reproduzíveis.</span><span class="sxs-lookup"><span data-stu-id="08aec-143">Don't generate error identifiers that aren't reproducible.</span></span> <span data-ttu-id="08aec-144">Por exemplo, não gere identificadores que incluam um identificador de processo.</span><span class="sxs-lookup"><span data-stu-id="08aec-144">For example, don't generate identifiers that include a process identifier.</span></span> <span data-ttu-id="08aec-145">Os identificadores de erro são úteis apenas quando correspondem a identificadores que são vistos por outros usuários que estão enfrentando o mesmo problema.</span><span class="sxs-lookup"><span data-stu-id="08aec-145">Error identifiers are useful only when they correspond to identifiers that are seen by other users who are experiencing the same problem.</span></span>

### <a name="error-categories"></a><span data-ttu-id="08aec-146">Categorias de erro</span><span class="sxs-lookup"><span data-stu-id="08aec-146">Error categories</span></span>

<span data-ttu-id="08aec-147">As categorias de erro são usadas para agrupar erros para o usuário.</span><span class="sxs-lookup"><span data-stu-id="08aec-147">Error categories are used to group errors for the user.</span></span> <span data-ttu-id="08aec-148">O PowerShell define essas categorias e cmdlets, e os provedores do PowerShell devem escolher entre eles ao gerar o registro de erro.</span><span class="sxs-lookup"><span data-stu-id="08aec-148">PowerShell defines these categories and cmdlets and PowerShell providers must choose between them when generating the error record.</span></span>

<span data-ttu-id="08aec-149">Para obter uma descrição das categorias de erro disponíveis, consulte a enumeração [System. Management. Automation. ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory) .</span><span class="sxs-lookup"><span data-stu-id="08aec-149">For a description of the error categories that are available, see the [System.Management.Automation.ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory) enumeration.</span></span> <span data-ttu-id="08aec-150">Em geral, você deve evitar o uso de **NOERROR**, **UndefinedError**e **erro genérico** sempre que possível.</span><span class="sxs-lookup"><span data-stu-id="08aec-150">In general, you should avoid using **NoError**, **UndefinedError**, and **GenericError** whenever possible.</span></span>

<span data-ttu-id="08aec-151">Os usuários podem exibir erros com base na categoria quando eles definem `$ErrorView` como **CategoryView**.</span><span class="sxs-lookup"><span data-stu-id="08aec-151">Users can view errors based on category when they set `$ErrorView` to **CategoryView**.</span></span>

## <a name="see-also"></a><span data-ttu-id="08aec-152">Consulte também</span><span class="sxs-lookup"><span data-stu-id="08aec-152">See also</span></span>

[<span data-ttu-id="08aec-153">Visão geral do cmdlet</span><span class="sxs-lookup"><span data-stu-id="08aec-153">Cmdlet Overview</span></span>](./cmdlet-overview.md)

[<span data-ttu-id="08aec-154">Tipos de saída de cmdlet</span><span class="sxs-lookup"><span data-stu-id="08aec-154">Types of Cmdlet Output</span></span>](./types-of-cmdlet-output.md)

[<span data-ttu-id="08aec-155">Referência do Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="08aec-155">Windows PowerShell Reference</span></span>](../windows-powershell-reference.md)
